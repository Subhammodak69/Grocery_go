{% extends 'admin/home.html' %}
{% load static %}
{% block title %}Update Admin Product Details{% endblock %}
{% block content %}
<script src="{% static 'js/admin/product_details/product_details_update.js' %}"></script>
<div class="card shadow-sm m-auto mt-4 p-4 rounded" style="max-width: 600px;">
  <h2 class="mb-4 text-center fw-bold text-primary">Update Product Details</h2>
  <form class="px-3" id="adminproduct_detailsForm" onsubmit="return false;" novalidate>

    <input type="hidden" id="product_details_id" value="{{ product_details.id }}">

    <div class="mb-3">
      <label for="product" class="form-label fw-semibold">Product*</label>
      <select id="product" name="product" class="form-select" required>
        <option value="">Select Product</option>
        {% for product in products %}
          <option value="{{ product.id }}" {% if product.id == product_details.product.id %}selected{% endif %}>{{ product.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="price" class="form-label fw-semibold">Price*</label>
      <input type="number" step="0.01" id="price" name="price" class="form-control" placeholder="Enter price" required style="border-radius: 6px;" value="{{ product_details.price }}">
    </div>

    <div class="mb-3">
      <label for="stock" class="form-label fw-semibold">Stock*</label>
      <input type="number" id="stock" name="stock" class="form-control" placeholder="Stock quantity" required style="border-radius: 6px;" value="{{ product_details.stock }}">
    </div>

    <div class="mb-3">
      <label for="size" class="form-label fw-semibold">Size*</label>
      <input type="text" id="size" name="size" class="form-control" placeholder="Size (e.g., S, M, L)" required style="border-radius: 6px;" value="{{ product_details.size }}">
    </div>

    <div class="form-check form-switch mb-3">
      <input class="form-check-input" type="checkbox" id="is_active" name="is_active" {% if product_details.is_active %}checked{% endif %}>
      <label class="form-check-label fw-semibold" for="is_active">Active</label>
    </div>

    <button type="submit" onclick="product_details_update()" class="btn btn-primary fw-bold mt-3 w-100" style="padding: 12px; font-size: 18px; border-radius: 8px;">
      Update Product Details
    </button>
  </form>

  <div id="message" class="text-center mt-4 fw-semibold m-auto"></div>
</div>


<style>
  #message.error {
    margin: 20px auto;
    color: #dc3545; /* Bootstrap danger red */
  }
  #message.success {
    margin: 20px auto;
    color: #28a745; /* Bootstrap success green */
  }
</style>
{% endblock %}
